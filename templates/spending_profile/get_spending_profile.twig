{% extends 'layout.twig' %}
{% block title %} <title>Profil de dépenses - {{ spendingProfile.name}} | {{ parent () }}</title> {% endblock %}
{% block css %} <link rel="stylesheet" href="/assets/css/get-spending-profile.css{{ _self.cssVersionning() }}"> {% endblock %}

{% block content %}
<header>
    <nav class='nav'>
        <a href="{{ path('homepage') }}"  id="back"><i class="fa-solid fa-arrow-left"></i></a>
    </nav>
</header>
    <div class="container-fluid" id="banner">
        <img src="/assets/img/banner/get-spending-profile.jpg" alt="banner">
    </div>
    <div class="container-fluid" id="get_spending_profile">
        <h2 class="text-center h2"> Budget : {{ spendingProfile.budget }}€</h2>

        <table class="table">
            <caption class="text-center mt-2">
                Profil de dépenses - {{ spendingProfile.name }}
            </caption>
            <thead>
            <tr class="table-dark text-center">
                <th>Nom</th>
                <th>Catégorie</th>
                <th>Montant</th>
                <th>Priorité</th>
            </tr>
            </thead>
            {% if totalExpenses > 1 %}
                {% for expense in expenses %}


                    <tbody class="table-group-divider">
                    <tr class="table-dark text-center">
                        <td>{{ expense.name }}</td>
                        <td>{{ expense.category }}</td>
                        <td>{{ expense.amount }}€</td>
                        <td>{{ expense.priority }}</td>
                    </tr>
                    </tbody>
                {% endfor %}

                {% else %}

                    <tbody class="table-group-divider">
                    <tr class="table-dark text-center">
                        <td>{{ expenses[0].name }}</td>
                        <td>{{ expenses[0].category }}</td>
                        <td>{{ expenses[0].amount }}€</td>
                        <td>{{ expenses[0].priority }}</td>
                    </tr>
                    </tbody>
            {% endif %}

            <tfoot>
            <tr class="table-dark text-center">
                <td>Total</td>
                <td colspan="3" id="total_amount_expenses">{{ totalAmountExpenses }}€</td>
            </tr>
            </tfoot>

        </table>
        <p class="text-center mt-5 mt-5 pb-5">Le reste à vivre est de {{ spendingProfile.budget - totalAmountExpenses }} €</p>
    </div>
{% endblock %}

{% block javascripts %}

{% endblock %}
